---
layout: post
title: ç§‘å­¦ä¸Šç½‘ä¹‹ Gost æ–¹æ¡ˆv3
date: 2023-05-26 08:00:00 +0800
categories: ç§‘å­¦ä¸Šç½‘
tags: ç§‘å­¦ä¸Šç½‘ Gost Clash å®‰å…¨
excerpt: å®‰å…¨çš„è‡ªå»ºVPNæŠ€æœ¯ã€‚
---

![Gost Cover](/images/gost.png)

# ç›®å½•

- [1. åŸŸåè´­ä¹°](#1-åŸŸåè´­ä¹°)
- [2. VPS è´­ä¹°](#2-vps-è´­ä¹°)
- [3. åŸŸåæ‰˜ç®¡](#3-åŸŸåæ‰˜ç®¡)
- [4. åŸŸåè§£æ](#4-åŸŸåè§£æ)
- [5. Gost æœåŠ¡éƒ¨ç½²](#5-gost-æœåŠ¡éƒ¨ç½²)
  - [5.1. VPS ç™»å½•](#51-vps-ç™»å½•)
  - [5.2. ç«¯å£å¼€æ”¾](#52-ç«¯å£å¼€æ”¾)
  - [5.3. BBR æ‹¥å¡æ§åˆ¶ç®—æ³•å®‰è£…](#53-bbr-æ‹¥å¡æ§åˆ¶ç®—æ³•å®‰è£…)
  - [5.4. Docker æœåŠ¡å®‰è£…](#54-docker-æœåŠ¡å®‰è£…)
  - [5.5. Memos å®‰è£…](#55-memos-å®‰è£…)
  - [5.6. Gost ä»£ç†æœåŠ¡å®‰è£…](#56-gost-ä»£ç†æœåŠ¡å®‰è£…)
  - [5.7. Nginx å®‰è£…å¹¶é…ç½®](#57-nginx-å®‰è£…å¹¶é…ç½®)
  - [5.8. æ•°å­—è¯ä¹¦åˆ›å»º](#58-æ•°å­—è¯ä¹¦åˆ›å»º)
  - [5.9. æ•°å­—è¯ä¹¦å®šæ—¶æ›´æ–°ä»»åŠ¡åˆ›å»º](#59-æ•°å­—è¯ä¹¦å®šæ—¶æ›´æ–°ä»»åŠ¡åˆ›å»º)
  - [5.10. é€€å‡º](#510-é€€å‡º)
  - [5.11. Gost ä»£ç†æœåŠ¡éªŒè¯](#511-gost-ä»£ç†æœåŠ¡éªŒè¯)
  - [5.12. Cloudflare Warp å®‰è£…ã€å¯é€‰ã€‘](#512-cloudflare-warp-å®‰è£…å¯é€‰)
- [6. Gost å®¢æˆ·ç«¯ä½¿ç”¨](#6-gost-å®¢æˆ·ç«¯ä½¿ç”¨)
  - [6.1. Mac](#61-mac)
  - [6.2 ç»ˆç«¯ä»£ç†é…ç½®](#62-ç»ˆç«¯ä»£ç†é…ç½®)
  - [6.3. Windows](#63-windows)
  - [6.4. Android](#64-android)
  - [6.5. iPhoneã€iPad](#65-iphoneipad)
  - [6.6. Other](#66-other)
- [7. å‚è€ƒ](#7-å‚è€ƒ)
- [8. å»¶ä¼¸é˜…è¯»](#8-å»¶ä¼¸é˜…è¯»)

# å‰è¨€

äº’è”ç½‘æ˜¯æœ€å¼ºå¤§çš„å·¥å…·ä¹‹ä¸€ï¼Œæˆ‘ä»¬è¶Šæ¥è¶Šä¾èµ–å®ƒæ¥æå‡è‡ªå·±æ–¹ä¾¿è‡ªå·±ä¾¿å®œè‡ªå·±ï¼Œä¸ä¼šä½¿ç”¨äº’è”ç½‘ï¼ˆä¸æ˜¯è¯´ä½ ä¼šåˆ·ä¸ªæŠ–éŸ³èŠä¸ªå¾®ä¿¡å°±è¡¨æ˜ä½ ä¼šä¸Šç½‘ï¼‰åˆ™ä¼šå‰Šå¼±è‡ªå·±çš„ç«äº‰åŠ›ï¼Œå®¹æ˜“è¢«ç¤¾ä¼šæ·˜æ±°ã€‚å¯æ˜¯äº’è”ç½‘åœ¨æœ‰çš„åœ°åŒºå¹¶ä¸äº’è”ï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨é­”æ³•æ¥æ‰“é€šè¿æ¥ï¼Œæœ¬ç¯‡æ•™ç¨‹å°±æ˜¯é­”æ³•å’’è¯­ï¼Œå­¦ä¼šåŸè¯µå’’è¯­åˆ™ä½ ç¦»ç°ä»£åˆè¿‘äº†ä¸€æ­¥ã€‚

å¢™å¢™äº†æˆ‘ä»¬çš„çœ¼è§ï¼Œæˆ‘ä»¬ä»¥ä¸ºè‡ªå·±çš„äº§å“è‡ªå·±çš„è½¯ä»¶å·²ç»å¾ˆå¥½äº†å¾ˆå‰å®³äº†ï¼Œå¯ç®€å•çš„ç”¨äº†ä¸€äº›å›½å¤–çš„è½¯ä»¶åï¼Œå‘ç°å®ƒä»¬ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œè®¾è®¡å¾—æ›´ç®€æ´å¥½çœ‹é…·ç‚«æ›´ç¬¦åˆé€»è¾‘å’Œè‡ªç„¶äº¤äº’ï¼Œè€Œä¸”è¿˜æ²¡é‚£ä¹ˆå¤šè¯±å¯¼å¹¿å‘Šå’Œé‡‘èå€Ÿè´·ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šå®ååˆ¶å’Œæ²¡å¿…è¦çš„å®¡æ ¸ã€‚

å¢™ä¸ä»…å¢™äº†æˆ‘ä»¬çš„çœ¼ç•Œï¼Œè¿˜å¢™äº†æˆ‘ä»¬çš„è®¤çŸ¥ï¼ˆå½“ç„¶çœ¼ç•Œå½±å“è®¤çŸ¥ï¼‰ã€‚æ€»ä»¥ä¸ºè‡ªå·±æ˜¯ä¸–ç•Œä¸­å¿ƒï¼Œå¯å½“çº¢æå‡ºå¢™åå‘ç°å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå¯èƒ½æœ‰æ—¶å€™è¿˜ç›¸åã€‚å¢™å†…æœ‰å¾ˆå¤šè‡ªåª’ä½“æ•´å¤©åœ¨æŠ–éŸ³å¾®åšç¼–çè¯ã€ä»»æ„å‰ªè£ä¿¡æ¯æ¥å¿½æ‚ è¯¯å¯¼æ™®é€šæ°‘ä¼—ï¼ˆå°¤å…¶åªä¼šåˆ·æŠ–éŸ³çš„æ‘æ°‘ï¼Œä»–ä»¬ä»¥æ­¤æ¥è®¤è¯†ä¸–ç•Œï¼Œä»¥ä¸ºä¸–ç•Œå°±æ˜¯é‚£æ ·çš„ï¼‰ï¼Œä½†æ˜¯æ²¡æœ‰åé¡¾ä¹‹å¿§ï¼Œå› ä¸ºè¿åˆé™„å’Œäº†æŸç§èˆ†è®ºæƒ…ç»ªï¼ˆæ°‘æ—ä¸»ä¹‰ï¼ˆæ°‘ç²¹ï¼‰ï¼‰ï¼Œåè€Œè·å¾—å¤§é‡æµé‡ï¼ŒæŒ£å¾—ç›†æ»¡é’µæ»¡ã€‚å¦‚æ­¤ç§ç§ï¼Œä½¿å¾—å½“å‰ç¯å¢ƒæ°›å›´å˜å¾—æä¸æ­£å¸¸ï¼Œä»‡æ¨è¶Šæ¥è¶Šè¢«ç…½åŠ¨ï¼Œéƒ¨åˆ†æ°‘ä¼—è¶Šæ¥è¶Šæç«¯åæ¿€ï¼Œæ°‘ç²¹é«˜ä¼ï¼ŒçœŸç›¸ã€é€»è¾‘ã€å¸¸è¯†è¢«ç«‹åœºå’Œæ„è¯†å½¢æ€æ·¹æ²¡ï¼Œæˆ‘ä»¬éƒ½åœ¨å®å¤§å™äº‹ä¸­æ²¾æ²¾è‡ªå–œè¿›è€Œå¿˜æ‰äº†èº«è¾¹çš„ç¾éš¾å’Œäººç¥¸ã€‚

å¢™å¤–å¹¶éæ²¡æœ‰å‡æ¶ˆæ¯ï¼Œè€Œæ˜¯çœŸå‡æ¶ˆæ¯å¹¶å­˜ï¼Œå¯èƒ½å‡æ¶ˆæ¯è¿œæ¯”çœŸæ¶ˆæ¯è¿˜å¤šï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å»åˆ†è¾¨ï¼Œä½†æ˜¯å®ƒçš„ç‰¹ç‚¹æ˜¯ä¸°å¯Œå’Œå¤šæ ·æ€§ï¼ŒçœŸç›¸å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ä¼šè¢«äººä¸ºçš„å‹åˆ¶ï¼Œä¿¡æ¯æºå¤´ä¸ä¼šè¢«æˆªæ–­ï¼Œè¿™ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºä½ å¯ä»¥æº¯æºï¼Œä½ ç›´æ¥åˆ°æºå¤´å»æŸ¥çœ‹ä¿¡æ¯ï¼Œäº†è§£äº‹æƒ…çš„åŸå§”ï¼Œé¿å…è¢« Hackï¼Œé¿å…æ¶ˆæ¯è¢«åˆ«æœ‰ç”¨å¿ƒçš„äºŒé“è´©å­è£å‰ªå’Œç¯¡æ”¹ï¼Œæ‹¨äº‘è§æ—¥ç ´é™¤è°£è¨€ç›´è¾¾çœŸç›¸ã€‚

æ‰€ä»¥çªç ´ä¿¡æ¯èŒ§æˆ¿æŒºé‡è¦ï¼

æ­¤æ•™ç¨‹ç¬”è€…å‚è€ƒäº† [haoel.github.io][haoel]ï¼Œæ­¥éª¤çš†ä¸ºç¬”è€…äº²æ‰‹å®è·µè¿‡ï¼Œé€‚ç”¨äºå›½å†…ï¼Œå¯èƒ½æœ‰ç‚¹å¤æ‚ï¼Œä½†æ˜¯ç›¸å¯¹å®‰å…¨ï¼Œå®‰å…¨ç¬¬ä¸€ï¼Œæ¯•ç«Ÿè°ä¹Ÿä¸æƒ³ â€œè€å¤§å“¥æ­£åœ¨çœ‹ç€ä½ â€ã€‚ç¿»å¢™çš„ç›®çš„æ˜¯äº†è§£çœŸç›¸å’Œå­¦ä¹ çŸ¥è¯†ã€æ–‡åŒ–ã€æŠ€èƒ½ã€æŠ€æœ¯ï¼Œå­¦ä¹ è‹±è¯­ï¼Œçœ‹å‰§ï¼ˆå¥ˆé£ã€è¿ªå£«å°¼+ã€Apple TV+ï¼‰ï¼Œç”¨äºæå‡è‡ªèº«æ°´å¹³ä»¥ä¾¿æ›´å¥½çš„å·¥ä½œç”Ÿæ´»ï¼ˆæŒ£æ›´å¤šçš„ ğŸ’°ï¼‰ã€‚å°±æ‹¿å·¥ç¨‹æŠ€æœ¯æ¥è¯´ï¼Œå°¤å…¶è½¯ä»¶å¼€å‘ï¼Œåº”è¯¥ç”¨è‹±æ–‡å…³é”®å­—åœ¨è°·æ­Œä¸Šæœç´¢èµ„æ–™ï¼ˆä¸­è‹±æ–‡æœå‡ºçš„ç»“æœä¸ä¸€æ ·ï¼Œå¯ç”¨ç»´åŸºç™¾ç§‘éªŒè¯ï¼‰ï¼Œç”¨å¥½ GitHub å’Œ stack overflowã€‚

ç¿»å¢™æ–¹å¼æŒ‰æ˜¯å¦æ”¶è´¹æ¥åˆ†æœ‰å…è´¹å’Œä»˜è´¹ä¸¤ç§ï¼Œå…è´¹çš„ä¸€å®šä¸è¦ä½œä¸ºä¸»åŠ›æ¥ç”¨ï¼ˆå¯èƒ½ä¿¡æ¯æ³„éœ²ï¼Œè¢«åˆ«æœ‰ç”¨å¿ƒä¹‹äººé’“é±¼ ğŸ£ï¼‰ï¼Œé¡¶å¤šåœ¨æ­»é”æ—¶å‹‰å¼ºä½œä¸ºè¢«å¢™æ—¶çš„ä¸´æ—¶è·³æ¿ï¼Œè·³è¿‡ä¹‹åå°±ç«‹å³æ‰¾å¯»å…¶å®ƒæ›´å¥½çš„ç¿»å¢™æ–¹å¼ã€‚ç¿»å¢™æ–¹å¼æŒ‰ç±»åˆ«æ¥åˆ†å¯åˆ†ä¸ºæœºåœºå’Œ VPNï¼ŒVPN å¯åˆ†ä¸ºè‡ªå»ºå’Œè´­ä¹°ï¼Œå¼ºçƒˆå»ºè®®è‡ªå»ºï¼Œå› ä¸ºå®‰å…¨ï¼Œå…¶æ¬¡ä¼šæ›´ä¾¿å®œå®æƒ ã€‚å¦‚æœå«Œéº»çƒ¦å’Œå¤æ‚æˆ–å…¶å®ƒéœ€æ±‚è€Œä¸é€‚åˆè‡ªå»ºï¼Œåˆ™æ¨èè´­ä¹°æœºåœºèŠ‚ç‚¹ã€‚æ­¤æ–‡ä¸ºè‡ªå»º VPN æ•™ç¨‹ï¼Œå±äºå°ä¼—æ¢¯å­ï¼Œè¶Šå°ä¼—è¶Šå®‰å…¨ï¼Œå› ä¸ºè¢«é’ˆå¯¹çš„å¯èƒ½æ€§è¶Šå°ã€‚

# 1. åŸŸåè´­ä¹°

åŸŸåæœåŠ¡æä¾›å•†ï¼š

- [GoDaddy](https://godaddy.com)
- [One](https://one.com)
- [HostDare](https://bill.hostdare.com/cart.php?a=add&domain=register)
- [GigsGigs](https://clientarea.gigsgigscloud.com/index.php?/checkdomain/register-domain)

ä¸Šè¿°å‰ä¸¤ä¸ªæ˜¯ç»ç¬”è€…éªŒè¯è¿‡çš„éƒ¨åˆ†åŸŸåæœåŠ¡æä¾›å•†ï¼Œçš†å¯é€šè¿‡å›½å†…æ”¯ä»˜ç³»ç»Ÿæ”¯ä»˜ã€‚å…¶ä¸­ï¼ŒGoDaddy çš„åŸŸåè´­ä¹°å’Œä½¿ç”¨æ›´ç®€å•æ–¹ä¾¿ï¼ŒOne çš„åŸŸåæ›´ä¾¿å®œï¼ˆé€šå¸¸æœ€å‰é¢çš„æ¨èåŸŸåæ˜¯æœ€ä¾¿å®œçš„ï¼‰ï¼Œä½†åç»­è¿˜å¾—é€šè¿‡çŸ­ä¿¡éªŒè¯ç æ¿€æ´»ï¼Œå¦‚æœæ”¶ä¸åˆ°çŸ­ä¿¡åˆ™éœ€è¦å®˜ç½‘ä¸‹è½½è¡¨å•æ–‡ä»¶ç­¾ååé‚®ä»¶å‘è¿‡å»æ¿€æ´»ã€‚

# 2. VPS è´­ä¹°

VPS æä¾›å•†ï¼š

- [Bandwagon](https://bandwagonhost.com/vps-hosting.php)
- [HostDare](https://bill.hostdare.com/store/premium-china-optimized-nvme-kvm)
- [Linode](https://www.linode.com)
- [DigitalOcean](https://www.digitalocean.com/pricing/droplets#basic-droplets)
- [AWS LightSail](https://lightsail.aws.amazon.com)
- [AWS EC2](https://aws.amazon.com/cn)
- [Google Cloud Platform](https://cloud.google.com)
- [Oracle Cloud](https://www.oracle.com/cloud/free)
- [RackNerd](https://www.racknerd.com/kvm-vps)
- [Microsoft Azure](https://azure.microsoft.com/zh-cn)

æ¬ç“¦å·¥ã€HostDareã€Linodeã€DigitalOceanã€AWS LightSail/EC2ã€RackNerd å¯æ”¯æŒå›½å†…æ”¯ä»˜æ–¹å¼æ”¯ä»˜ï¼ˆæœ€å¥½æœ‰å›½å†…ä¿¡ç”¨å¡ï¼Œå› ä¸ºå¤§å¤šæ•°éœ€è¦ï¼Œå°‘æ•°æ”¯æŒå¾®ä¿¡å’Œæ”¯ä»˜å®ï¼‰ï¼Œå…¶å®ƒåˆ™éœ€è¦å›½é™…ä¿¡ç”¨å¡ã€‚å…¶ä¸­æ¬ç“¦å·¥ã€HostDare æœ‰ CN2 GIA çº¿è·¯å¯é€‰ã€‚æ›´å¤šå†…å®¹è¯·å‚çœ‹ [haoel.github.io-VPS](https://github.com/haoel/haoel.github.io#2-è´­ä¹°vps) ã€‚

åƒä¸‡åˆ«ç”¨å›½å†…æä¾›å•†çš„ VPSï¼Œå®¹æ˜“è¢«ç›‘æ§è¢«æŠ“ã€‚ä¸è¦è´­ä¹° Vultr çš„ VPSï¼Œè¢«å° IP è¾ƒå¤šï¼Œæ®ç¬”è€…å®æµ‹ï¼Œç¾å›½æ—§é‡‘å±±å’Œæ´›æ‰çŸ¶ã€æ—¥æœ¬ã€æ–°åŠ å¡çš„æœºå™¨æ— æ³•ç§‘å­¦ä¸Šç½‘ï¼Œåªæœ‰éŸ©å›½å¯ä»¥ï¼Œè€Œä¸”éŸ©å›½è¿™ä¸ª IP è¿˜è¢«å¥ˆé£ç­‰ä¸€äº›ç½‘ç«™å±è”½ã€‚

æ¨èè´­ä¹°ç¾åŒºçš„ VPSï¼Œå› ä¸ºå„ç§å¯ç”¨èµ„æºæ›´å¤šé™åˆ¶æ›´å°‘ï¼Œå¾ˆå¤šäº§å“å’ŒæœåŠ¡éƒ½æ˜¯ä¼˜å…ˆåœ¨é‚£è¯•ç”¨ä½¿ç”¨å’Œå¼€æœï¼Œæ¯”å¦‚è°·æ­Œçš„ AI å¥—ä»¶ï¼Œæ¯”å¦‚å¦‚æœè´­ä¹°éŸ©å›½çš„ VPS åˆ™æ²¹ç®¡ä¸Šçš„ä¸€äº›è§†é¢‘çš„è§‚çœ‹æœ‰å¹´é¾„éªŒè¯é™åˆ¶è€Œç¾åŒºæ²¡æœ‰ã€‚ä¸€äº›ç«™ç‚¹èµ„æºçš„è§‚çœ‹æµè§ˆæˆ–ä¸‹è½½ä¸å¯¹äºšåŒºå¼€æ”¾ï¼Œè®¿é—®æ—¶ä¼šè¢« Cloudflare é˜»æ­¢è€Œç¾åŒºæ— é™åˆ¶ï¼Œå¦‚ï¼šæ³¥è§†é¢‘ç­‰ã€‚å¯ä»¥è´­ä¹°å‰å…ˆè°·æ­Œæœç´¢å¯¹åº”æä¾›å•†çš„ä¼˜æƒ ç å’Œä¼˜æƒ é“¾æ¥ï¼Œéƒ¨åˆ†æä¾›å•†ä¼šæŠŠä¼˜æƒ ç æ”¾åˆ°é¡µé¦– Banner é‡Œã€‚é€‰æ‹© VPS èŠ‚ç‚¹æœåŠ¡å™¨ä½ç½®çš„æœ€ä½³å®è·µæ˜¯ï¼šé€‰æ‹©ç¾å›½è¥¿æµ·å²¸çš„ã€‚

# 3. åŸŸåæ‰˜ç®¡

- æ³¨å†Œ [Cloudflare][Cloudflare] è´¦å·ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ã€‚
- æ·»åŠ æ–°è´­ä¹°çš„åŸŸåã€‚
- å°† Cloudflare æ·»åŠ åŸŸåé¡µé¢ç»™å‡ºçš„ä¸¤ä¸ªåç§°æœåŠ¡å™¨æ·»åŠ æˆ–æ›¿æ¢åˆ°åŸŸåæä¾›å•†çš„å¯¹åº”åœ°æ–¹ã€‚å‚è€ƒç¤ºä¾‹å¦‚ä¸‹ï¼š

```txt
leif.ns.cloudflare.com

priscilla.ns.cloudflare.com
```

- è®¾ç½® SSL/TLS åŠ å¯†æ¨¡å¼ä¸º `å®Œå…¨`ã€‚

# 4. åŸŸåè§£æ

- ç™»å½• [Cloudflare][Cloudflare]ã€‚
- åœ¨é»˜è®¤ç½‘ç«™ Tab é¡¹çš„å³ä¾§ç‚¹è¿›ä¹‹å‰æ‰˜ç®¡çš„åŸŸåã€‚
- åœ¨ DNS Tab é¡¹å³ä¾§åˆ†åˆ«æ·»åŠ ä¸¤æ¡ A è®°å½•ï¼Œè®°å½•ååˆ†åˆ«æ˜¯ `xgfw` å’Œ `memos`ï¼Œä»£ç†çŠ¶æ€ä¸º`ä»… DNS`ï¼ˆå³å…³é—­ä»£ç†ï¼‰ã€‚

# 5. Gost æœåŠ¡éƒ¨ç½²

åœ¨è´­ä¹° VPS æ—¶ï¼Œå®‰è£…çš„æ“ä½œç³»ç»Ÿé€‰æœ€æ–°ç‰ˆæœ¬çš„ Ubuntuã€‚

## 5.1. VPS ç™»å½•

- æ‰“å¼€æœ¬åœ°ç”µè„‘ç»ˆç«¯ï¼Œä½¿ç”¨ SSH å‘½ä»¤ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œæ ¼å¼ä¸º `ssh [è´¦å·]@[IP]`, å¦‚æœä½¿ç”¨çš„æ˜¯å¯†é’¥æ–‡ä»¶ç™»å½•åˆ™éœ€åœ¨è´¦å·å‰é¢æŒ‡æ˜å¯†é’¥æ–‡ä»¶è·¯å¾„ï¼Œå³æ ¼å¼ä¸º `ssh -i [/from/to/pass.pem] [è´¦å·]@[IP]`ã€‚
- å°† [] éƒ¨åˆ†æ›¿æ¢ä¸ºè‡ªå·±çš„å†…å®¹ï¼Œè´¦å·é€šå¸¸ä¸æ˜¯ `root` å°±æ˜¯ `ubuntu`ã€‚
- å¦‚æœåœ¨æ— é”™è¯¯è¾“å…¥çš„æƒ…å†µä¸‹è¿˜ç™»ä¸ä¸Šï¼Œåˆ™å¯èƒ½éœ€è¦åœ¨ VPS æœåŠ¡å•†ç½‘ç«™åå°æ·»åŠ å®‰å…¨ç»„é¡¹ä»¥å…è®¸ `22` çš„ TCP ç«¯å£è¿å…¥ã€‚æœ‰çš„ VPS ä½¿ç”¨å®‰å…¨ç»„æ¥ç®¡ç†ï¼Œåˆ™é€šè¿‡å®‰å…¨ç»„æ¥æ§åˆ¶ç«¯å£çš„å¼€æ”¾ï¼ˆAWSï¼‰ï¼Œæœ‰çš„ä¸æ˜¯ï¼ˆLinodeã€Digital Oceanã€Vultrï¼‰ï¼Œåˆ™é€šè¿‡ä¹Œç­å›¾çš„ Linux å‘½ä»¤ `ufw` æ¥å¼€æ”¾ç«¯å£ï¼Œè¿™äº›é€šå¸¸éƒ½é»˜è®¤å¼€æ”¾äº† 22 ç«¯å£ä»¥ä¾› SSH è¿æ¥ï¼Œé€šå¸¸ä¸éœ€è¦å‘½ä»¤æ¥è®¾ç½®ã€‚

## 5.2. ç«¯å£å¼€æ”¾

- å¼€æ”¾ç«¯å£ä»¥ä¾›åç»­å…¶å®ƒæœåŠ¡ä½¿ç”¨ï¼Œéå®‰å…¨ç»„çš„ VPS çš„å¼€æ”¾å‘½ä»¤æ ¼å¼ä¸ºï¼š

  ```Bash
  # é’ˆå¯¹æç¤ºæ‰¾ä¸åˆ° ufw æ—¶
  sudo apt update
  sudo apt install ufw -y

  sudo ufw allow from any to any port [ç«¯å£,...] proto tcp
  ```

- å¼€æ”¾ ICMP åè®®ä»¥ä¾› ping ip ä½¿ç”¨ã€‚
- å¼€æ”¾ 80 ç«¯å£ä»¥ä¾›è¯ä¹¦å®‰è£…æ—¶ä½¿ç”¨ã€‚
- å¼€æ”¾ 443 ç«¯å£ä»¥ä¾›ç§‘å­¦ä¸Šç½‘å’Œè®¿é—® Memos æ—¶ä½¿ç”¨ã€‚

## 5.3. BBR æ‹¥å¡æ§åˆ¶ç®—æ³•å®‰è£…

- æ‰§è¡Œéƒ¨ç½²æŒ‡ä»¤ï¼š

  ```Bash
  sudo bash -c "$(wget -qO- https://raw.githubusercontent.com/meiyingqishi/meiyingqishi.github.io/main/scripts/gost-vpn-server-on-ubuntu.sh)"
  ```

- è¾“å…¥ `1` å®‰è£… TCP BBR æ‹¥å¡æ§åˆ¶ç®—æ³•ã€‚

  å¤‡æ³¨ï¼šæœ€æ–°ç‰ˆç³»ç»Ÿé»˜è®¤å·²å®‰è£…äº† BBRï¼Œå¦‚æœè¢«å¸è½½äº†åˆ™æ­¤æ­¥éª¤ä¼šè‡ªåŠ¨å®‰è£…ï¼Œå¦‚æœç³»ç»Ÿå†…æ ¸ä½äºè¦æ±‚åˆ™ä¼šè‡ªåŠ¨æ›´æ–°å†…æ ¸å¹¶é‡å¯ï¼Œéœ€è¦é‡æ–°ç™»å½•å¹¶æ‰§è¡Œéƒ¨ç½²æŒ‡ä»¤ä»¥è¿›è¡Œåç»­æ“ä½œã€‚

## 5.4. Docker æœåŠ¡å®‰è£…

è¾“å…¥ `2` ä»¥å®‰è£… Docker æœåŠ¡ç¨‹åºã€‚

## 5.5. Memos å®‰è£…

è¾“å…¥ `3` ä»¥å®‰è£… Memos æœåŠ¡ç¨‹åºã€‚

## 5.6. Gost ä»£ç†æœåŠ¡å®‰è£…

- è¾“å…¥ `4` ä»¥å®‰è£… Ghost ä»£ç†æœåŠ¡ç¨‹åºã€‚

- ä¸èƒ½è¾“å…¥ 443ï¼Œæ¨èå€¼ä¸º 8443ã€‚

## 5.7. Nginx å®‰è£…å¹¶é…ç½®

- è¾“å…¥ `5` ä»¥å®‰è£… Nginx ä»£ç†æœåŠ¡ç¨‹åºã€‚

- è¾“å…¥è‡ªå·±å‰é¢åœ¨ Cloudflare é…ç½®çš„ memos çš„åŸŸåï¼ˆä¾‹å¦‚ï¼šmemos.zhansan.comï¼‰å’Œ xgfw çš„åŸŸåï¼ˆä¾‹å¦‚ï¼šxgfw.zhansan.comï¼‰ã€‚

- memos çš„ç«¯å£å›ºå®šä¸ºé»˜è®¤å€¼ `5230`ï¼Œxgfw çš„ç«¯å£åˆ™ä¸ºå‰é¢è‡ªå·±çš„è¾“å…¥å€¼ã€‚

- è¾“å…¥ `out` é€€å‡ºã€‚

## 5.8. æ•°å­—è¯ä¹¦åˆ›å»º

- è¾“å…¥ `6` ä»¥åˆ›å»ºæ•°å­—è¯ä¹¦ã€‚

- è¾“å…¥è¦åˆ›å»ºæ•°å­—è¯ä¹¦çš„åŸŸåï¼Œå³å‰é¢åœ¨ Cloudflare é…ç½® memos åŸŸåï¼ˆä¾‹å¦‚ï¼šmemos.zhangsan.comï¼‰å’Œ xgfw åŸŸåï¼ˆä¾‹å¦‚ï¼šxgfw.zhangsan.comï¼‰ã€‚

- è¾“å…¥ `out` é€€å‡ºã€‚

## 5.9. æ•°å­—è¯ä¹¦å®šæ—¶æ›´æ–°ä»»åŠ¡åˆ›å»º

è¾“å…¥ `7` ä»¥åˆ›å»ºæ•°å­—è¯ä¹¦å®šæ—¶æ›´æ–°ä»»åŠ¡ã€‚

## 5.10. é€€å‡º

è¾“å…¥ `8` ä»¥é€€å‡ºã€‚

## 5.11. Gost ä»£ç†æœåŠ¡éªŒè¯

```Bash
è¯­æ³•ï¼š
curl -v "https://www.google.com" --proxy "[host]:[port]" --proxy-user '[user]:[password]'

ç¤ºä¾‹ï¼š
curl -v "https://www.google.com" --proxy "https://xgfw.zhangsan.com:443" --proxy-user 'zhangsan:hgks38aTQ'
```

è¾“å‡ºå¤§æ®µçš„æ§åˆ¶ä¿¡æ¯å’Œè°·æ­Œçš„é¡µé¢æ ‡ç­¾åˆ™è¡¨ç¤ºæˆåŠŸæ— è¯¯ã€‚

## 5.12. Cloudflare Warp å®‰è£…ã€å¯é€‰ã€‘

- å¤§å¤šæ•° VPS çš„ IP éƒ½ä¸æ˜¯åŸç”Ÿ IPï¼Œåœ¨ä½¿ç”¨ä¸€äº›æœåŠ¡æ—¶ä¼šå—åˆ°é™åˆ¶ï¼Œæ¯”å¦‚ï¼šNetflix æ²¡æ³•è§£é”éè‡ªåˆ¶å†…å®¹ã€ChatGPT èŠå¤©é¡µé¢ç¦æ­¢ä½¿ç”¨ã€Bing è´¦å·è¢«æŒ‚èµ·â€¦â€¦ï¼Œä½¿ç”¨ Warp å¯è§£é”åŸç”Ÿ IP é™åˆ¶ã€‚

- æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

  ```Bash
  wget git.io/warp.sh
  chmod +x warp.sh
  ```

- é‡å¤è¿è¡Œä»¥ä¸‹è„šæœ¬ 3 æ¬¡å¹¶åˆ†åˆ«è¾“å…¥ 1ï¼Œ4ï¼Œ7 æ‰§è¡Œå®‰è£…ã€‚

  ```Bash
  sudo ./warp.sh menu
  ```

- è¾“å…¥ ./warp.sh status æŸ¥çœ‹å®‰è£…çŠ¶æ€ã€‚æ­£å¸¸çŠ¶æ€å¦‚ä¸‹ï¼š

  ```Bash
  WireGuard: Running
  IPv4 Network: WARP
  IPv6 Network: WARP
  ```

# 6. Gost å®¢æˆ·ç«¯ä½¿ç”¨

## 6.1. Mac

- ä¸‹è½½å¹¶å®‰è£… [ClashX](https://github.com/yichengchen/clashX/releases)ã€‚

- å³é”® Mac å³ä¸Šè§’çŠ¶æ€æ ä¸­çš„ ClashX çš„ ğŸ± å›¾æ ‡ï¼Œä¾æ¬¡é€‰æ‹© é…ç½® -> æ‰“å¼€é…ç½®æ–‡ä»¶å¤¹ã€‚

  ![ClashX drop down menu list](/images/ClashXDropDownMenuList.png)

- åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶ config.yamlã€‚

- æ‹·è´ç²˜è´´ä»¥ä¸‹å†…å®¹åˆ°æ–‡ä»¶ä¸­:

  ```yaml
  port: 7890
  socks-port: 7891
  redir-port: 7892
  mixed-port: 7893
  ipv6: true
  allow-lan: true
  mode: Rule
  log-level: silent
  external-controller: "0.0.0.0:9090"
  secret: ""
  tun:
    enable: true
    stack: system
    dns-hijack:
      - tcp://8.8.8.8:53
      - udp://8.8.8.8:53
  dns:
    enable: true
    ipv6: true
    listen: 0.0.0.0:53
    default-nameserver:
      - 114.114.114.114
    enhanced-mode: fake-ip
    fake-ip-range: 198.18.0.1/16
    nameserver:
      - 114.114.114.114
      - 223.5.5.5
    fallback:
      - 114.114.114.114

  proxies:
    - name: "Lightsail"
      type: http
      server: xgfw.zhangsan.com
      port: 443
      username: zhangsan
      password: "hgks38aTQ"
      tls: true
      skip-cert-verify: true

  proxy-groups:
    - name: "Proxy"
      type: select
      proxies:
        - Lightsail

  rules:
    - DOMAIN-SUFFIX,local,DIRECT
    - IP-CIDR,127.0.0.0/8,DIRECT
    - IP-CIDR,172.16.0.0/12,DIRECT
    - IP-CIDR,192.168.0.0/16,DIRECT
    - IP-CIDR,10.0.0.0/8,DIRECT

    - DOMAIN-SUFFIX,deepl.com,DIRECT

    - GEOIP,CN,DIRECT
    - MATCH,Proxy
  ```

- æŒ‰ç…§å‰é¢æœåŠ¡å™¨ç«¯å¡«çš„å†…å®¹ä¿®æ”¹ proxies ä¸‹çš„ serverã€portã€usernameã€passwordï¼Œè‡ªå®šä¹‰ä¿®æ”¹ nameï¼ˆproxy-groups ä¸‹çš„ proxies ä¹Ÿåº”åŒæ­¥ä¿®æ”¹ï¼‰ã€‚

  - é…ç½®å‚è€ƒ [clash.yaml](https://github.com/Hackl0us/SS-Rule-Snippet/blob/main/LAZY_RULES/clash.yaml) ä¸­çš„æ³¨é‡Šå’Œ [å®˜æ–¹ wiki](https://dreamacro.github.io/clash)ã€‚

- æ”¹å®Œä¿å­˜åï¼Œå†æ¬¡å³å‡» ğŸ± å›¾æ ‡ï¼Œåœ¨å±•å¼€çš„èœå•ä¸­é€‰æ‹©è®¾ç½®ä¸ºç³»ç»Ÿä»£ç†å³å¯ã€‚

## 6.2 ç»ˆç«¯ä»£ç†é…ç½®

- ç»ˆç«¯é»˜è®¤æ˜¯ä¸èµ°ä»£ç†çš„ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦ä¸‹è½½çš„èµ„æºéœ€è¦ä»£ç†æ‰èƒ½è®¿é—®ã€‚

- åœ¨ç»ˆç«¯é”®å…¥ `vim ~/.zshrc` è¿›å…¥ zsh é…ç½®æ–‡ä»¶ï¼Œé”®å…¥ `i` å¼€å¯ç¼–è¾‘æ¨¡å¼ï¼Œæ»šåŠ¨åˆ°æ–‡ä»¶æœ«å°¾å¹¶ç©ºä¸€è¡ŒååŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š

  ```zsh
  SOCKS="socks5://127.0.0.1:7891"
  alias proxy="export http_proxy=${SOCKS} https_proxy=${SOCKS} all_proxy=${SOCKS}"
  alias unproxy='unset all_proxy http_proxy https_proxy'
  ```

- æŒ‰é”®ç›˜ âŒ¨ï¸ æœ€å·¦ä¸Šè§’çš„ esc é”®ï¼Œé”®å…¥ `:wq` ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ã€‚

- é…ç½®å®Œæˆå¯ä»¥ä½¿ç”¨äº†ã€‚åœ¨éœ€è¦ä»£ç†æ—¶åœ¨ç»ˆç«¯é”®å…¥ `proxy` å³å¯å¼€å¯ç»ˆç«¯ä»£ç†ï¼Œä¸éœ€è¦ç»ˆç«¯ä»£ç†æ—¶é€šè¿‡é”®å…¥ `unproxy` å³å¯é€€å‡ºç»ˆç«¯ä»£ç†ã€‚

- è¿™ä¸€æ­¥èƒ½ä½¿ç”¨çš„å‰ææ˜¯ å·²å®Œæˆäº†å‰é¢ [6.1 Mac](#61-mac) çš„é…ç½®å¹¶å·²åœ¨æœ¬åœ°ç”µè„‘ä¸Šå¼€å¯äº† ClashX çš„ä»£ç†è¿æ¥ã€‚

## 6.3. Windows

- ä¸‹è½½å¹¶å®‰è£… [Clash for Windows](https://github.com/Fndroid/clash_for_windows_pkg/releases)ã€‚

- ä½™åæ­¥éª¤ç±»åŒå‰é¢ [6.1 Mac](#61-mac) éƒ¨åˆ†ï¼ˆç”±äºç¬”è€…æš‚æ—  Windows ç”µè„‘ï¼Œæš‚ä¸æ–¹ä¾¿å±•å¼€åç»­æ­¥éª¤ï¼‰ã€‚

## 6.4. Android

- ä¸‹è½½å¹¶å®‰è£… [Clash for Android](https://github.com/Kr328/ClashForAndroid/releases)ã€‚

  ![Clash4Android homepage](/images/clash4android-homepage.jpeg)

- å°†åœ¨ç”µè„‘ä¸Šç¼–è¾‘å¥½çš„é…ç½®æ–‡ä»¶ä¼ åˆ°æ‰‹æœºï¼Œé…ç½®æ–‡ä»¶åŒå‰é¢ [6.1 Mac](#61-mac) éƒ¨åˆ†ã€‚

- ç‚¹æŒ‰ Clash for Android ä¸»ç•Œé¢çš„ Profile æŒ‰é’®ï¼Œç„¶åå†ç‚¹æŒ‰å³ä¸Šè§’çš„ + å·ï¼Œå†ç‚¹æŒ‰ Fileã€‚

- è¿›å…¥äº† Profile ç•Œé¢åï¼Œè¾“å…¥ä¸€ä¸ªè‡ªå®šä¹‰ Nameï¼Œå†ç‚¹å‡»æœ€ä¸‹æ–¹çš„ Browse Filesã€‚

  ![Clash4AndroidProfile](/images/Clash4AndroidProfile.jpeg)

- è¿›å…¥ Files ç•Œé¢åï¼Œç‚¹å‡» Configuration.yaml æ–‡ä»¶çš„å³è¾¹ä¸‰ä¸ªç«–ç‚¹ï¼Œé€‰æ‹©ä¿å­˜çš„ config.yaml æ–‡ä»¶åä¿å­˜å³å¯ã€‚

- è¿”å›åˆ° Profile ç•Œé¢åç‚¹å‡»å³ä¸Šè§’çš„ä¿å­˜å›¾æ ‡ä¿å­˜ã€‚

- å†è¿”å›åˆ° Profiles ç•Œé¢å°±çœ‹åˆ°äº†åˆšé…ç½®çš„æ–‡ä»¶äº†ï¼Œé€‰ä¸­å¹¶è¿”å›ä¸»ç•Œé¢ï¼ŒProfile é‚£é‡Œæ˜¾ç¤ºå‡ºäº† Xxx Activatedã€‚

- ç‚¹å‡»ä¸»ç•Œé¢ä¸Šç°è‰²çš„ã€ŒStopped - Tap to startã€åï¼ŒæŒ‰é’®å˜æˆäº†è“è‰²çš„ã€ŒRunningã€äº†å°±å®Œæˆäº†æ•´ä¸ªè¿‡ç¨‹ï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†ã€‚

  ![Clash4AndroidRunningHomePage](/images/Clash4AndroidRunningHomePage.jpeg)

## 6.5. iPhoneã€iPad

- å¯¹äº iPhone å’Œ iPad å¯æŸ¥èµ„æ–™æƒ³åŠæ³•æ³¨å†Œç¾åŒº Apple ID åè´­ä¹° ShadowRocket ä½¿ç”¨ã€‚

- ç”±äºç¬”è€…æš‚æ— ç›¸å…³äº§å“ï¼Œæš‚æ— æ³•å±•å¼€åç»­æ­¥éª¤ï¼Œæ›´å¤šä¿¡æ¯è¯·ç§»æ­¥ [haoel.github.io][haoel]ã€‚

## 6.6. Other

è¯·å‚è€ƒ [haoel.github.io][haoel]ã€‚

# 7. å‚è€ƒ

- [haoel.github.io][haoel]
- [clash.yaml](https://github.com/Hackl0us/SS-Rule-Snippet/blob/main/LAZY_RULES/clash.yaml) ä¸­çš„æ³¨é‡Šå’Œ [å®˜æ–¹ wiki](https://dreamacro.github.io/clash)

# 8. å»¶ä¼¸é˜…è¯»

- [ç§‘å­¦ä¸Šç½‘ä¹‹ Gost æ–¹æ¡ˆ v2](../../05/20/ç§‘å­¦ä¸Šç½‘ä¹‹Gostæ–¹æ¡ˆv2.html)
- [ç§‘å­¦ä¸Šç½‘ä¹‹ Gost æ–¹æ¡ˆ](../../03/12/ç§‘å­¦ä¸Šç½‘ä¹‹Gostæ–¹æ¡ˆ.html)
- [ç§‘å­¦ä¸Šç½‘ä¹‹ Outline æ–¹æ¡ˆ](../../03/11/ç§‘å­¦ä¸Šç½‘ä¹‹Outlineæ–¹æ¡ˆ.html)

[haoel]: https://github.com/haoel/haoel.github.io
[Cloudflare]: https://cloudflare.com
